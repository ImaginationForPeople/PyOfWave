API reused by both the full and wave clients.
